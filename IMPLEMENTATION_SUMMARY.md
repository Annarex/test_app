# –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ INTEGRATION_PLAN.md –∏ FUNCTIONAL_ANALYSIS.md

### 1. –†–∞–±–æ—Ç–∞ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∫–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚úÖ

#### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã:
- ‚úÖ `models/utils/code_utils.py` - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–¥–∞–º–∏:
  - `parse_expense_code()` - —Ä–∞–∑–±–æ—Ä 20-—Ä–∞–∑—Ä—è–¥–Ω–æ–≥–æ –∫–æ–¥–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤
  - `build_expense_code()` - —Å–±–æ—Ä–∫–∞ –∫–æ–¥–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - `parse_income_code()` - —Ä–∞–∑–±–æ—Ä 20-—Ä–∞–∑—Ä—è–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–æ—Ö–æ–¥–æ–≤
  - `build_income_code()` - —Å–±–æ—Ä–∫–∞ –∫–æ–¥–∞ –¥–æ—Ö–æ–¥–æ–≤ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - `format_code_with_spaces()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - `validate_expense_code()` –∏ `validate_income_code()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–æ–≤

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ SolutionController:
- ‚úÖ `_process_appendix1` - —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞ –¥–æ—Ö–æ–¥–æ–≤ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ `_process_appendix2` - —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤
- ‚úÖ `_process_appendix3` - —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –ì–†–ë–°

### 2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –≤ –ë–î ‚úÖ

- ‚úÖ –ú–µ—Ç–æ–¥ `save_solution_data()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫–æ–¥–æ–≤
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–æ–ª–µ–π –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö)
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü:
  - `solution_income_data` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫–æ–¥–∞ –¥–æ—Ö–æ–¥–æ–≤
  - `solution_expense_data` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `–ì–†–ë–°`

### 3. –î–æ—Ä–∞–±–æ—Ç–∫–∞ DocumentController ‚úÖ

- ‚úÖ –ú–µ—Ç–æ–¥ `load_income_levels_df()` –≤ DatabaseManager
- ‚úÖ –ú–µ—Ç–æ–¥ `_should_include_level()` –≤ DocumentController
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ `_insert_table2` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ —É—Ä–æ–≤–Ω–µ–π

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞—Ö ‚úÖ

- ‚úÖ `_find_or_create_income_code()` - –ø–æ–∏—Å–∫ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–¥–∞ –¥–æ—Ö–æ–¥–æ–≤
- ‚úÖ `_create_income_code()` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ –¥–æ—Ö–æ–¥–æ–≤
- ‚úÖ `_determine_income_level()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –∫–æ–¥–∞ –¥–æ—Ö–æ–¥–æ–≤
- ‚úÖ `_find_or_create_expense_code()` - –ø–æ–∏—Å–∫ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–¥–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤
- ‚úÖ `_create_expense_code()` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ —Ä–∞—Å—Ö–æ–¥–æ–≤
- ‚úÖ `_determine_expense_level()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –∫–æ–¥–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –º–µ—Ç–æ–¥—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### 5. UI –¥–∏–∞–ª–æ–≥–∏ ‚úÖ

- ‚úÖ `views/document_dialog.py` - –¥–∏–∞–ª–æ–≥ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–∫–ª—é—á–µ–Ω–∏–π –∏ –ø–∏—Å–µ–º (—É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)
- ‚úÖ `views/solution_load_dialog.py` - –¥–∏–∞–ª–æ–≥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ—à–µ–Ω–∏–π
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `documents_ui_controller.py`

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### INTEGRATION_PLAN.md:
- ‚úÖ **–í—ã–ø–æ–ª–Ω–µ–Ω–æ**: ~70%
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**: ~15%
- ‚ùå **–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**: ~15%

### FUNCTIONAL_ANALYSIS.md:
- ‚úÖ **–í—ã–ø–æ–ª–Ω–µ–Ω–æ**: ~90%
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**: ~10%

## ‚ö†Ô∏è –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. ‚ùå –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π (`aggregate_solution_data`)
2. ‚ùå –ú–µ—Ç–æ–¥—ã –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –∏–∑ Excel
3. ‚ùå UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏
4. ‚ùå –†–∞–±–æ—Ç–∞ —Å –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏ –≤ Word
5. ‚ö†Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –º–µ—Ç–æ–∫ –∏–∑ –∫–æ–¥–∞ 1–°

## üìù –°–æ–∑–¥–∞–Ω–Ω—ã–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
1. `models/utils/code_utils.py` - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–¥–∞–º–∏
2. `views/solution_load_dialog.py` - –¥–∏–∞–ª–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ—à–µ–Ω–∏–π
3. `FUNCTIONAL_ANALYSIS.md` - –∞–Ω–∞–ª–∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
4. `INTEGRATION_STATUS.md` - —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
5. `IMPLEMENTATION_SUMMARY.md` - –∏—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `controllers/solution_controller.py`:
   - –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–±–æ—Ä –∫–æ–¥–æ–≤ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `save_solution_data()`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞—Ö
   - –û–±–Ω–æ–≤–ª–µ–Ω `_find_expense_code()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è DatabaseManager

2. `models/database.py`:
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `load_income_levels_df()`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü —Ä–µ—à–µ–Ω–∏–π

3. `controllers/document_controller.py`:
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_should_include_level()`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ `_insert_table2` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ —É—Ä–æ–≤–Ω–µ–π

4. `views/controllers/documents_ui_controller.py`:
   - –û–±–Ω–æ–≤–ª–µ–Ω `parse_solution_document()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞

5. `models/utils/__init__.py`:
   - –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç—ã —É—Ç–∏–ª–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–¥–∞–º–∏

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

1. ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ 20-—Ä–∞–∑—Ä—è–¥–Ω—ã—Ö –∫–æ–¥–æ–≤
2. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –≤ –ë–î —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞—Ö –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–æ–¥–∞
4. ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
5. ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ UI –¥–∏–∞–ª–æ–≥–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
2. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –∏–∑ Excel
3. –°–æ–∑–¥–∞—Ç—å UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏
4. –î–æ–±–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –º–µ—Ç–∫–∏ –∏–∑ –∫–æ–¥–∞ 1–°
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏ –≤ Word
